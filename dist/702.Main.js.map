{"version":3,"file":"702.Main.js","mappings":";;;;;;;;;;;;AAAA,qDAA4C;AAE5C,2CAA8C;AASjC,cAAM,GAAG;IACpB,QAAQ,EAAE,2BAAQ;IAClB,KAAK,EAAE,SAAS;IAChB,SAAS,EAAE,SAAS;IACpB,MAAM,EAAE,SAAS;IACjB,WAAW,EAAE,aAAa;IAC1B,eAAe,EAAE,IAAI;CACtB,CAAC;AACW,eAAO,GAAG;IACrB,QAAQ,EAAE,oBAAW,CAAC,OAAO,CAAC,QAAQ;IACtC,YAAY,EAAE,oBAAW,CAAC,OAAO,CAAC,YAAY;IAC9C,WAAW,EAAE,oBAAW,CAAC,OAAO,CAAC,WAAW;IAC5C,iBAAiB,EAAE,IAAI;IACvB,KAAK,EAAE,UAAU;CAClB,CAAC;AACK,MAAM,aAAa,GAAgC,CACxD,OAAgB,EAChB,EAAE,CAAC,CAAC;IACJ,QAAQ,EAAE,cAAM,CAAC,MAAM;IACvB,EAAE,EAAE,GAAG,cAAM,CAAC,MAAM,IAAI,OAAO,CAAC,EAAE,EAAE;IACpC,IAAI,EAAE,OAAO,CAAC,QAAQ;IACtB,KAAK,EAAE,OAAO,CAAC,QAAQ;IACvB,KAAK,EAAE,sCAAsC,OAAO,CAAC,EAAE,IAAI,OAAO,CAAC,MAAM,EAAE;IAC3E,QAAQ,EAAE,EAAE;CACb,CAAC,CAAC;AATU,qBAAa,iBASvB","sources":["webpack://kkutu-core/./src/back/auth/discord.ts"],"sourcesContent":["import { Strategy } from \"passport-discord\";\r\n\r\nimport { AUTH_CONFIG } from \"../utils/System\";\r\nimport { AuthModule } from \"../utils/LoginRoute\";\r\n\r\ninterface Profile {\r\n  id: string;\r\n  username: string;\r\n  avatar: string;\r\n}\r\n\r\nexport const config = {\r\n  strategy: Strategy,\r\n  color: \"#7289DA\",\r\n  fontColor: \"#FFFFFF\",\r\n  vendor: \"discord\",\r\n  displayName: \"withDiscord\",\r\n  useOAuthButtons: true,\r\n};\r\nexport const options = {\r\n  clientID: AUTH_CONFIG.discord.clientID,\r\n  clientSecret: AUTH_CONFIG.discord.clientSecret,\r\n  callbackURL: AUTH_CONFIG.discord.callbackURL,\r\n  passReqToCallback: true,\r\n  scope: \"identify\",\r\n};\r\nexport const createProfile: AuthModule[\"createProfile\"] = (\r\n  profile: Profile\r\n) => ({\r\n  authType: config.vendor,\r\n  id: `${config.vendor}-${profile.id}`,\r\n  name: profile.username,\r\n  title: profile.username,\r\n  image: `https://cdn.discordapp.com/avatars/${profile.id}/${profile.avatar}`,\r\n  exordial: \"\",\r\n});\r\n"],"names":[],"sourceRoot":""}