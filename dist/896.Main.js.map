{"version":3,"file":"896.Main.js","mappings":";;;;;;;;;;;;AAAA,2DAAkD;AAElD,2CAA8C;AAgBjC,cAAM,GAAG;IACpB,QAAQ,EAAE,iCAAQ;IAClB,KAAK,EAAE,SAAS;IAChB,KAAK,EAAE,EAAE;IACT,SAAS,EAAE,SAAS;IACpB,MAAM,EAAE,QAAQ;IAChB,WAAW,EAAE,YAAY;IACzB,eAAe,EAAE,IAAI;CACtB,CAAC;AACW,eAAO,GAAG;IACrB,QAAQ,EAAE,oBAAW,CAAC,MAAM,CAAC,QAAQ;IACrC,YAAY,EAAE,oBAAW,CAAC,MAAM,CAAC,YAAY;IAC7C,WAAW,EAAE,oBAAW,CAAC,MAAM,CAAC,WAAW;IAC3C,iBAAiB,EAAE,IAAI;IACvB,KAAK,EAAE;QACL,SAAS;QACT,OAAO,CAAC,kDAAkD;KAC3D;CACF,CAAC;AACK,MAAM,aAAa,GAAgC,CACxD,OAAgB,EAChB,EAAE,CAAC,CAAC;IACJ,QAAQ,EAAE,cAAM,CAAC,MAAM;IACvB,EAAE,EAAE,OAAO,CAAC,EAAE;IACd,IAAI,EACF,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,IAAI,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,GAAG,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;QACpE,OAAO,CAAC,IAAI,CAAC,SAAS;IACxB,KAAK,EAAE,OAAO,CAAC,QAAQ;IACvB,KAAK,EAAE,OAAO,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,KAAK;IAC9B,QAAQ,EAAE,EAAE;CACb,CAAC,CAAC;AAXU,qBAAa,iBAWvB","sources":["webpack://kkutu-core/./src/back/auth/google.ts"],"sourcesContent":["import { Strategy } from \"passport-google-oauth2\";\r\n\r\nimport { AUTH_CONFIG } from \"../utils/System\";\r\nimport { AuthModule } from \"../utils/LoginRoute\";\r\n\r\ninterface ProfilePhoto {\r\n  value: string;\r\n}\r\ninterface Profile {\r\n  id: string;\r\n  name: {\r\n    familyName: string;\r\n    givenName: string;\r\n  };\r\n  nickname: string;\r\n  photos: ProfilePhoto[];\r\n}\r\n\r\nexport const config = {\r\n  strategy: Strategy,\r\n  color: \"#FFFFFF\",\r\n  image: \"\",\r\n  fontColor: \"#000000\",\r\n  vendor: \"google\",\r\n  displayName: \"withGoogle\",\r\n  useOAuthButtons: true,\r\n};\r\nexport const options = {\r\n  clientID: AUTH_CONFIG.google.clientID,\r\n  clientSecret: AUTH_CONFIG.google.clientSecret,\r\n  callbackURL: AUTH_CONFIG.google.callbackURL,\r\n  passReqToCallback: true,\r\n  scope: [\r\n    \"profile\",\r\n    \"email\" /*, 'https://www.googleapis.com/auth/plus.login'*/,\r\n  ],\r\n};\r\nexport const createProfile: AuthModule[\"createProfile\"] = (\r\n  profile: Profile\r\n) => ({\r\n  authType: config.vendor,\r\n  id: profile.id,\r\n  name:\r\n    (profile.name.familyName != \"\" ? profile.name.familyName + \" \" : \"\") +\r\n    profile.name.givenName,\r\n  title: profile.nickname,\r\n  image: profile.photos[0].value,\r\n  exordial: \"\",\r\n});\r\n"],"names":[],"sourceRoot":""}